create temp function visit_endpoints(controller string, action string, referrer string) returns bool as ((
  (
    controller in (
      'projects', 'messages', 'candidacies', 'search', 'category_tags', 'staffings', 'profiles',
      'api/v1/projects', 'api/v1/candidacies', 'api/v1/feeds', 'api/v1/users', 'api/v1/notifications',
      'api/v2/projects', 'api/v2/candidacies', 'api/v2/feeds', 'api/v2/users', 'api/v2/notifications'
    )
    or (controller = 'campaigns' and action = 'newgrad')
    or (
      (controller = 'posts' and action = 'show')
      or (controller = 'employee_interviews' and action = 'show')
      or (controller = 'post_articles' and action = 'show')
      or (controller = 'post_spaces')
      or (controller = 'feeds' and action in ('company_posts', 'posts', 'index') and referrer not like '%companies%')
    )
  )
));{{--}}
