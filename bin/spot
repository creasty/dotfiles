#!/usr/bin/env bash

mdfind -onlyin ~ -name ".$1" \
  | {
    tx="$(cat)"
    query=""

    if [ "$tx" = '' ]; then
      tx=' '
      query='(nothing)'
    fi

    peco --query "$query" <<< "$tx"
  } \
  | {
    while read -r file; do
      open "$file"
    done
  }
